import { $ as $fetch } from './nuxi.BPxiWRC2.mjs';
import { r as readPackageJSON } from './nuxi.wIrae1ai.mjs';
import { s as semverExports } from './nuxi.Kph9bHCN.mjs';

async function fetchModules() {
  const { modules } = await $fetch(
    `https://api.nuxt.com/modules?version=all`
  );
  return modules;
}
function checkNuxtCompatibility(module, nuxtVersion) {
  if (!module.compatibility?.nuxt) {
    return true;
  }
  return semverExports.satisfies(nuxtVersion, module.compatibility.nuxt, {
    includePrerelease: true
  });
}
async function getNuxtVersion(cwd) {
  const nuxtPkg = await readPackageJSON("nuxt", { url: cwd }).catch(() => null);
  if (nuxtPkg) {
    return nuxtPkg.version;
  }
  const pkg = await readPackageJSON(cwd);
  const pkgDep = pkg?.dependencies?.nuxt || pkg?.devDependencies?.nuxt;
  return pkgDep && semverExports.coerce(pkgDep)?.version || "3.0.0";
}

export { checkNuxtCompatibility as c, fetchModules as f, getNuxtVersion as g };
